(function(e){function r(r){for(var s,i,o=r[0],l=r[1],c=r[2],u=0,h=[];u<o.length;u++)i=o[u],Object.prototype.hasOwnProperty.call(n,i)&&n[i]&&h.push(n[i][0]),n[i]=0;for(s in l)Object.prototype.hasOwnProperty.call(l,s)&&(e[s]=l[s]);d&&d(r);while(h.length)h.shift()();return a.push.apply(a,c||[]),t()}function t(){for(var e,r=0;r<a.length;r++){for(var t=a[r],s=!0,i=1;i<t.length;i++){var o=t[i];0!==n[o]&&(s=!1)}s&&(a.splice(r--,1),e=l(l.s=t[0]))}return e}var s={},i={app:0},n={app:0},a=[];function o(e){return l.p+"js/"+({}[e]||e)+"."+{"chunk-30edbc11":"eb9a8377"}[e]+".js"}function l(r){if(s[r])return s[r].exports;var t=s[r]={i:r,l:!1,exports:{}};return e[r].call(t.exports,t,t.exports,l),t.l=!0,t.exports}l.e=function(e){var r=[],t={"chunk-30edbc11":1};i[e]?r.push(i[e]):0!==i[e]&&t[e]&&r.push(i[e]=new Promise((function(r,t){for(var s="css/"+({}[e]||e)+"."+{"chunk-30edbc11":"a13fd7bc"}[e]+".css",n=l.p+s,a=document.getElementsByTagName("link"),o=0;o<a.length;o++){var c=a[o],u=c.getAttribute("data-href")||c.getAttribute("href");if("stylesheet"===c.rel&&(u===s||u===n))return r()}var h=document.getElementsByTagName("style");for(o=0;o<h.length;o++){c=h[o],u=c.getAttribute("data-href");if(u===s||u===n)return r()}var d=document.createElement("link");d.rel="stylesheet",d.type="text/css",d.onload=r,d.onerror=function(r){var s=r&&r.target&&r.target.src||n,a=new Error("Loading CSS chunk "+e+" failed.\n("+s+")");a.code="CSS_CHUNK_LOAD_FAILED",a.request=s,delete i[e],d.parentNode.removeChild(d),t(a)},d.href=n;var p=document.getElementsByTagName("head")[0];p.appendChild(d)})).then((function(){i[e]=0})));var s=n[e];if(0!==s)if(s)r.push(s[2]);else{var a=new Promise((function(r,t){s=n[e]=[r,t]}));r.push(s[2]=a);var c,u=document.createElement("script");u.charset="utf-8",u.timeout=120,l.nc&&u.setAttribute("nonce",l.nc),u.src=o(e);var h=new Error;c=function(r){u.onerror=u.onload=null,clearTimeout(d);var t=n[e];if(0!==t){if(t){var s=r&&("load"===r.type?"missing":r.type),i=r&&r.target&&r.target.src;h.message="Loading chunk "+e+" failed.\n("+s+": "+i+")",h.name="ChunkLoadError",h.type=s,h.request=i,t[1](h)}n[e]=void 0}};var d=setTimeout((function(){c({type:"timeout",target:u})}),12e4);u.onerror=u.onload=c,document.head.appendChild(u)}return Promise.all(r)},l.m=e,l.c=s,l.d=function(e,r,t){l.o(e,r)||Object.defineProperty(e,r,{enumerable:!0,get:t})},l.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},l.t=function(e,r){if(1&r&&(e=l(e)),8&r)return e;if(4&r&&"object"===typeof e&&e&&e.__esModule)return e;var t=Object.create(null);if(l.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:e}),2&r&&"string"!=typeof e)for(var s in e)l.d(t,s,function(r){return e[r]}.bind(null,s));return t},l.n=function(e){var r=e&&e.__esModule?function(){return e["default"]}:function(){return e};return l.d(r,"a",r),r},l.o=function(e,r){return Object.prototype.hasOwnProperty.call(e,r)},l.p="",l.oe=function(e){throw console.error(e),e};var c=window["webpackJsonp"]=window["webpackJsonp"]||[],u=c.push.bind(c);c.push=r,c=c.slice();for(var h=0;h<c.length;h++)r(c[h]);var d=u;a.push([0,"chunk-vendors"]),t()})({0:function(e,r,t){e.exports=t("56d7")},"05f0":function(e,r,t){},"3f46":function(e,r,t){},"45b7":function(e,r,t){"use strict";t("05f0")},"56d7":function(e,r,t){"use strict";t.r(r);var s=t("2b0e"),i=t("5c96"),n=t.n(i),a=(t("0fae"),function(){var e=this,r=e._self._c;return r("div",{attrs:{id:"app"}},[r("router-view")],1)}),o=[],l={name:"App"},c=l,u=(t("45b7"),t("2877")),h=Object(u["a"])(c,a,o,!1,null,null,null),d=h.exports,p=t("8c4f"),f=function(){var e=this,r=e._self._c;return r("div",{staticClass:"home-view"},[r("div",{staticClass:"home-container"},[e._m(0),r("div",{staticClass:"home-content"},[r("CsvUploader",{on:{"data-loaded":e.handleDataLoaded}}),e._m(1)],1),e._m(2)])])},g=[function(){var e=this,r=e._self._c;return r("div",{staticClass:"home-header"},[r("h1",[e._v("ðŸ“ æ–‡ä»¶ä¸Šä¼ ")]),r("p",{staticClass:"subtitle"},[e._v("è¯·ä¸Šä¼ CSVæ–‡ä»¶è¿›è¡Œåˆ†æžå’ŒæŸ¥çœ‹")])])},function(){var e=this,r=e._self._c;return r("div",{staticClass:"usage-tips"},[r("h3",[e._v("ðŸ“‹ ä½¿ç”¨è¯´æ˜Ž")]),r("ul",[r("li",[e._v("æ‹–æ‹½æˆ–ç‚¹å‡»ä¸Šä¼ CSVæ–‡ä»¶")]),r("li",[e._v("è§£æžæˆåŠŸåŽè‡ªåŠ¨è·³è½¬åˆ°æ•°æ®é¡µ")]),r("li",[e._v("æ•°æ®åœ¨æµè§ˆå™¨æœ¬åœ°å¤„ç†ï¼Œä¸ä¸Šä¼ æœåŠ¡å™¨")])])])},function(){var e=this,r=e._self._c;return r("div",{staticClass:"home-footer"},[r("p",[e._v("CSVæ–‡ä»¶åˆ†æžå·¥å…· | version 1.0.0")])])}],v=function(){var e=this,r=e._self._c;return r("el-card",{staticClass:"uploader-card",scopedSlots:e._u([{key:"header",fn:function(){return[r("div",{staticClass:"card-header"},[r("span",[e._v("ðŸ“ ä¸Šä¼ CSVæ–‡ä»¶")])])]},proxy:!0}])},[r("div",{staticClass:"upload-area",class:{dragging:e.isDragging},on:{dragover:function(r){return r.preventDefault(),e.handleDragOver.apply(null,arguments)},dragleave:e.handleDragLeave,drop:function(r){return r.preventDefault(),e.handleDrop.apply(null,arguments)},click:e.triggerFileInput}},[r("div",{staticClass:"upload-content"},[r("i",{staticClass:"el-icon-upload",staticStyle:{"font-size":"48px",color:"#409eff"}}),r("p",{staticClass:"upload-text"},[e._v(e._s(e.uploadText))]),r("p",{staticClass:"upload-hint"},[e._v("æ”¯æŒ .csvæ ¼å¼")])])]),r("input",{ref:"fileInput",staticStyle:{display:"none"},attrs:{type:"file",accept:".csv"},on:{change:e.handleFileSelect}}),e.currentFile&&!e.isParsing?r("div",{staticClass:"action-section"},[r("div",{staticClass:"action-buttons"},[r("el-button",{attrs:{type:"primary",loading:e.isParsing,icon:"el-icon-document-checked"},on:{click:e.parseCSVFile}},[e._v(" "+e._s(e.isParsing?"è§£æžä¸­...":"è§£æžæ–‡ä»¶")+" ")]),r("el-button",{attrs:{disabled:e.isParsing,icon:"el-icon-delete"},on:{click:e.clearFile}},[e._v(" æ¸…é™¤ ")])],1)]):e._e(),e.currentFile?r("div",{staticClass:"file-info"},[r("el-alert",{attrs:{title:e.fileInfo,type:"info","show-icon":"",closable:!1}})],1):e._e(),e.isParsing?r("div",{staticClass:"parse-status"},[r("el-alert",{attrs:{title:e.parseStatus,type:"info",closable:!1,"show-icon":""}}),r("div",{staticClass:"progress-container"},[r("div",{staticClass:"progress-text"},[r("i",{staticClass:"el-icon-loading",staticStyle:{"margin-right":"8px"}}),e._v(" "+e._s("æ­£åœ¨å¤„ç†ï¼Œè¯·ç¨å€™...")+" ")])])],1):e._e(),e.parseError?r("div",{staticClass:"error-message"},[r("el-alert",{attrs:{title:e.errorTitle,type:"error","show-icon":"",description:e.errorDescription},on:{close:e.clearError}},[e.showErrorDetails?[r("div",{staticClass:"error-details"},[r("p",[r("strong",[e._v("é”™è¯¯è¯¦æƒ…ï¼š")])]),r("pre",{staticClass:"error-detail-content"},[e._v(e._s(e.parseErrorDetails))])]),r("div",{staticClass:"error-solution"},[r("p",[r("strong",[e._v("è§£å†³æ–¹æ¡ˆï¼š")])]),r("ul",e._l(e.errorSolutions,(function(t){return r("li",{key:t},[e._v(" "+e._s(t)+" ")])})),0)])]:e._e()],2)],1):e._e(),e.browserInfo.showWarning?r("div",{staticClass:"browser-warning"},[r("el-alert",{attrs:{type:"warning","show-icon":"",closable:!0},on:{close:function(r){e.browserInfo.showWarning=!1}}},[r("div",{attrs:{slot:"title"},slot:"title"},[r("i",{staticClass:"el-icon-warning",staticStyle:{"margin-right":"8px"}}),e._v(" æµè§ˆå™¨å…¼å®¹æ€§æç¤º ")]),r("p",[e._v(" æ£€æµ‹åˆ°æ‚¨æ­£åœ¨ä½¿ç”¨ "+e._s(e.browserInfo.name)+" "+e._s(e.browserInfo.version)+"ï¼Œå¯èƒ½å­˜åœ¨å…¼å®¹æ€§é—®é¢˜ ")]),r("p",[e._v("å»ºè®®ä½¿ç”¨ Chromeã€Firefoxã€Edge ç­‰çŽ°ä»£æµè§ˆå™¨èŽ·å¾—æœ€ä½³ä½“éªŒ")])])],1):e._e()])},m=[],b=t("369b"),w=t.n(b),C={name:"CsvUploader",data(){return{currentFile:null,isDragging:!1,isParsing:!1,parseStatus:"ç­‰å¾…è§£æž...",parseError:"",parseErrorDetails:"",errorSolutions:[],parseConfig:{header:!0,dynamicTyping:!0,skipEmptyLines:!0,worker:!1,encoding:"UTF-8",delimitersToGuess:[",",";","\t","|"],preview:0,chunk:null,fastMode:!1},browserInfo:{name:"",version:"",isCompatible:!0,showWarning:!1}}},computed:{uploadText(){return this.isDragging?"é‡Šæ”¾æ–‡ä»¶":this.currentFile?"å·²é€‰æ‹©æ–‡ä»¶ï¼Œç‚¹å‡»é‡æ–°é€‰æ‹©æˆ–æ‹–æ‹½æ–°æ–‡ä»¶":"ç‚¹å‡»æˆ–æ‹–æ‹½æ–‡ä»¶åˆ°æ­¤å¤„"},fileInfo(){if(!this.currentFile)return"";const e=(this.currentFile.size/1024/1024).toFixed(2);return`å·²é€‰æ‹©æ–‡ä»¶: ${this.currentFile.name} (${e} MB)`},errorTitle(){return this.parseError.includes("ç¼–ç ")?"æ–‡ä»¶ç¼–ç é”™è¯¯":this.parseError.includes("æ ¼å¼")?"æ–‡ä»¶æ ¼å¼é”™è¯¯":this.parseError.includes("å¤§å°")?"æ–‡ä»¶è¿‡å¤§":this.parseError.includes("è¯»å–")?"æ–‡ä»¶è¯»å–å¤±è´¥":"è§£æžå¤±è´¥"},errorDescription(){return this.parseError.includes("360")?"æ£€æµ‹åˆ°360æµè§ˆå™¨å…¼å®¹æ€§é™åˆ¶":this.parseError},showErrorDetails(){return this.parseErrorDetails&&this.parseErrorDetails.length>0}},mounted(){this.detectBrowser()},methods:{detectBrowser(){const e=navigator.userAgent.toLowerCase();let r="æœªçŸ¥æµè§ˆå™¨",t="",s=!0;e.includes("edg")?(r="Microsoft Edge",t=this.extractVersion(e,/edg\/([\d.]+)/)):e.includes("chrome")&&!e.includes("edge")?(r="Google Chrome",t=this.extractVersion(e,/chrome\/([\d.]+)/)):e.includes("firefox")?(r="Mozilla Firefox",t=this.extractVersion(e,/firefox\/([\d.]+)/)):e.includes("safari")&&!e.includes("chrome")?(r="Safari",t=this.extractVersion(e,/version\/([\d.]+)/)):e.includes("msie")||e.includes("trident")?(r="Internet Explorer",t=this.extractVersion(e,/(msie |rv:)([\d.]+)/),s=!1):(e.includes("360se")||e.includes("qihu"))&&(r="360æµè§ˆå™¨",s=!1),this.browserInfo={name:r,version:t,isCompatible:s,showWarning:!s},s||console.error(r+"æµè§ˆå™¨ä¸æ”¯æŒï¼Œè¯·ä½¿ç”¨çŽ°ä»£æµè§ˆå™¨")},extractVersion(e,r){const t=e.match(r);return t?t[1]:"æœªçŸ¥ç‰ˆæœ¬"},triggerFileInput(){this.$refs.fileInput.click()},handleFileSelect(e){const r=e.target.files[0];r&&this.processSelectedFile(r),e.target.value=""},handleDragOver(){this.isDragging=!0},handleDragLeave(){this.isDragging=!1},handleDrop(e){this.isDragging=!1;const r=e.dataTransfer.files[0];r&&this.processSelectedFile(r)},processSelectedFile(e){this.validateFile(e)&&(this.currentFile=e,this.clearError(),this.parseStatus='æ–‡ä»¶å·²å‡†å¤‡å°±ç»ªï¼Œç‚¹å‡»"è§£æžæ–‡ä»¶"å¼€å§‹è§£æž',this.$message.success("å·²é€‰æ‹©æ–‡ä»¶: "+e.name))},validateFile(e){const r=[".csv",".txt"],t=e.name.toLowerCase().substring(e.name.lastIndexOf("."));if(!r.includes(t))return this.showError("è¯·é€‰æ‹©CSVæˆ–æ–‡æœ¬æ–‡ä»¶ (.csv, .txt)","æ–‡ä»¶ç±»åž‹é”™è¯¯"),!1;const s=10485760;return e.size>s?(this.showError(`æ–‡ä»¶å¤§å°ä¸èƒ½è¶…è¿‡10MBï¼Œå½“å‰æ–‡ä»¶å¤§å°: ${(e.size/1024/1024).toFixed(2)}MB`,"æ–‡ä»¶è¿‡å¤§"),!1):0!==e.size||(this.showError("æ–‡ä»¶ä¸ºç©ºï¼Œè¯·é€‰æ‹©æœ‰æ•ˆçš„CSVæ–‡ä»¶","ç©ºæ–‡ä»¶é”™è¯¯"),!1)},showError(e,r="é”™è¯¯"){this.parseError=`${r}: ${e}`,this.parseErrorDetails=this.getErrorDetails(),this.errorSolutions=this.getErrorSolutions(r),this.$message.error(e)},clearError(){this.parseError="",this.parseErrorDetails="",this.errorSolutions=[]},getErrorDetails(){return`é”™è¯¯æ—¶é—´: ${(new Date).toLocaleString()}\n              ç”¨æˆ·ä»£ç†: ${this.userAgent}\n              æ–‡ä»¶åç§°: ${this.currentFile?this.currentFile.name:"æœªçŸ¥"}\n              æ–‡ä»¶å¤§å°: ${this.currentFile?(this.currentFile.size/1024).toFixed(2)+"KB":"æœªçŸ¥"}\n      æµè§ˆå™¨ä¿¡æ¯: ${this.getBrowserInfo()}`},getBrowserInfo(){const e=this.userAgent;return e.includes("Chrome")&&e.includes("Edg")?"Microsoft Edge":e.includes("Chrome")?"Google Chrome":e.includes("Firefox")?"Mozilla Firefox":e.includes("Safari")&&!e.includes("Chrome")?"Safari":e.includes("360se")||e.includes("qihu")?"360æµè§ˆå™¨":e.includes("msie")||e.includes("trident")?"Internet Explorer":"æœªçŸ¥æµè§ˆå™¨"},getErrorSolutions(e){const r=[];switch(e){case"æ–‡ä»¶ç±»åž‹é”™è¯¯":r.push("è¯·ç¡®ä¿æ–‡ä»¶æ‰©å±•åä¸º .csv æˆ– .txt"),r.push("æ£€æŸ¥æ–‡ä»¶æ˜¯å¦æŸåæˆ–æ ¼å¼ä¸æ­£ç¡®");break;case"æ–‡ä»¶è¿‡å¤§":r.push("è¯·é€‰æ‹©å°äºŽ10MBçš„æ–‡ä»¶"),r.push("å¯ä»¥å°†å¤§æ–‡ä»¶åˆ†å‰²æˆå¤šä¸ªå°æ–‡ä»¶åˆ†æ‰¹å¤„ç†");break;case"ç©ºæ–‡ä»¶é”™è¯¯":r.push("è¯·é€‰æ‹©éžç©ºæ–‡ä»¶"),r.push("æ£€æŸ¥æ–‡ä»¶å†…å®¹æ˜¯å¦è¢«æ¸…ç©º");break;case"ç¼–ç é”™è¯¯":r.push("å°è¯•å°†æ–‡ä»¶å¦å­˜ä¸ºUTF-8ç¼–ç æ ¼å¼"),r.push("ä½¿ç”¨æ–‡æœ¬ç¼–è¾‘å™¨æ£€æŸ¥æ–‡ä»¶ç¼–ç "),r.push("é¿å…ä½¿ç”¨ç‰¹æ®Šå­—ç¬¦æˆ–BOMå¤´");break;case"è§£æžé”™è¯¯":r.push("æ£€æŸ¥CSVæ–‡ä»¶æ ¼å¼æ˜¯å¦æ­£ç¡®"),r.push("ç¡®ä¿åˆ†éš”ç¬¦ä½¿ç”¨ä¸€è‡´ï¼ˆå»ºè®®ä½¿ç”¨é€—å·ï¼‰"),r.push("æ£€æŸ¥æ˜¯å¦æœ‰æœªé—­åˆçš„å¼•å·"),r.push("å°è¯•ä½¿ç”¨å…¶ä»–æµè§ˆå™¨ï¼ˆå¦‚Chromeã€Firefoxï¼‰");break;default:r.push("å°è¯•é‡æ–°é€‰æ‹©æ–‡ä»¶"),r.push("æ£€æŸ¥æ–‡ä»¶æ˜¯å¦æŸå"),r.push("å°è¯•ä½¿ç”¨å…¶ä»–æµè§ˆå™¨"),r.push("è”ç³»æŠ€æœ¯æ”¯æŒæä¾›é”™è¯¯è¯¦æƒ…")}return r},async parseCSVFile(){if(this.currentFile){this.isParsing=!0,this.clearError(),this.parseStatus="å¼€å§‹è§£æžæ–‡ä»¶...";try{const e=await this.readFileWithFallback(this.currentFile);if(!e)throw new Error("æ–‡ä»¶è¯»å–å¤±è´¥ï¼Œå¯èƒ½ä¸ºç©ºæˆ–ç¼–ç ä¸æ­£ç¡®");this.parseStatus="æ­£åœ¨è§£æžæ•°æ®...";const r=await this.parseWithPapaParse(e);this.handleParseResults(r)}catch(e){this.handleParseError(e)}finally{setTimeout(()=>{this.isParsing=!1},800)}}else this.$message.warning("è¯·å…ˆé€‰æ‹©æ–‡ä»¶")},readFileWithFallback(e){return new Promise((r,t)=>{const s=new FileReader;s.onload=e=>{try{let t=e.target.result;65279===t.charCodeAt(0)&&(t=t.slice(1)),r(t)}catch(s){t(new Error("æ–‡ä»¶è¯»å–é”™è¯¯: "+s.message))}},s.onerror=()=>{t(new Error("æ–‡ä»¶è¯»å–å¤±è´¥ï¼Œè¯·æ£€æŸ¥æ–‡ä»¶æƒé™æˆ–æ ¼å¼"))},s.onabort=()=>{t(new Error("æ–‡ä»¶è¯»å–è¢«ä¸­æ­¢"))};const i=setTimeout(()=>{s.abort(),t(new Error("æ–‡ä»¶è¯»å–è¶…æ—¶"))},3e4);s.onloadend=()=>{clearTimeout(i)};try{s.readAsText(e,"UTF-8")}catch(n){try{s.readAsText(e)}catch(a){t(new Error("æ— æ³•è¯»å–æ–‡ä»¶: "+a.message))}}})},parseWithPapaParse(e){return new Promise((r,t)=>{try{w.a.parse(e,{...this.parseConfig,complete:e=>{r(e)},error:e=>{t(new Error("CSVè§£æžé”™è¯¯: "+e.message))}})}catch(s){t(new Error("è§£æžè¿‡ç¨‹å¼‚å¸¸: "+s.message))}})},handleParseResults(e){if(!e||!e.data)throw new Error("è§£æžç»“æžœä¸ºç©º");const r=e.data;if(0===r.length)throw new Error("CSVæ–‡ä»¶å†…å®¹ä¸ºç©º");let t=[];if(this.parseConfig.header&&e.meta&&e.meta.fields)t=e.meta.fields;else if(r[0]){const e=r[0];e&&"object"===typeof e&&(t=Object.keys(e).map((function(e,r){return"åˆ—"+(r+1)})))}const s=r.filter((function(e){return!(!e||0===Object.keys(e).length)&&Object.values(e).some((function(e){return null!=e&&""!==e&&!("number"===typeof e&&isNaN(e))}))}));if(0===s.length)throw new Error("æ²¡æœ‰æœ‰æ•ˆçš„æ•°æ®è¡Œ");this.$message.success(`è§£æžæˆåŠŸï¼Œ${s.length} è¡Œæ•°æ®`),this.$emit("data-loaded",{data:s,headers:t}),this.parseStatus="è§£æžå®Œæˆï¼",setTimeout(()=>{this.parseStatus=""},2e3)},handleParseError(e){let r=e.message||"æœªçŸ¥é”™è¯¯",t="è§£æžé”™è¯¯";this.parseError=`${t}: ${r}`,this.parseErrorDetails=this.getErrorDetails(),this.errorSolutions=this.getErrorSolutions(t),console.error("CSVè§£æžå¤±è´¥:",e),this.$message.error("è§£æžå¤±è´¥: "+r)},clearFile(){this.currentFile=null,this.isParsing=!1,this.parseStatus="",this.clearError(),this.$refs.fileInput.value=""}}},E=C,y=(t("a810"),Object(u["a"])(E,v,m,!1,null,"9f079bbc",null)),_=y.exports,S={name:"Home",components:{CsvUploader:_},methods:{handleDataLoaded(e){localStorage.setItem("csvData",JSON.stringify(e.data)),localStorage.setItem("csvHeaders",JSON.stringify(e.headers)),this.$router.push("/data")}}},F=S,x=(t("5afb"),Object(u["a"])(F,f,g,!1,null,"8fcbbea0",null)),D=x.exports;s["default"].use(p["a"]);const k=[{path:"/",name:"Home",component:D},{path:"/data",name:"Data",component:()=>t.e("chunk-30edbc11").then(t.bind(null,"aeae"))}],P=new p["a"]({mode:"hash",base:"",routes:k});var O=P;s["default"].use(n.a),s["default"].config.productionTip=!1,new s["default"]({router:O,render:e=>e(d)}).$mount("#app")},"5afb":function(e,r,t){"use strict";t("c1d1")},a810:function(e,r,t){"use strict";t("3f46")},c1d1:function(e,r,t){}});
//# sourceMappingURL=app.84d6e75d.js.map